# item15. 동적 데이터에 인덱스 시그니처 사용하기

### 인덱스 시그니처

`[property:string] : string`

- 키의 이름 : 키의 위치만 표시하는 용도. 타입체커에서는 사용하지 않음!
- 키의 타입 : string이나 number 또는 symbol의 조합. 보통은 string
- 값의 타입 : 어떤 것이든 가능

→ 이렇게 타입체킹이 되었을 때 문제점

1. 잘못된 키를 포함해 모든 키를 허용한다
2. 특정 키가 필요하지 않다. 빈 객체도 유효하게 판단됨
3. 키마다 다른 타입을 가질 수 없음. 

### 인덱스 시그니처는 동적 데이터를 표현할 때 사용한다

ex ) CSV 파일처럼 헤더 행에 열 이름이 있고, 데이터 행을 열 이름과 값으로 매핑하는 객체로 나타내고 싶을 때

→ 열 이름이 뭔지 미리 알 수 없을 때

- 연관 배열 → 인덱스 시그니처 대신 Map 타입 사용
- 어떤 타입에 가능한 필드가 제한되어 있는 경우, 인덱스 시그니처를 사용하지 않아야 함

### 대안

1. `Record` 사용
    
    Record : 키 타입에 유연성을 제공하는 제너릭 타입
    
    ```tsx
    type Vec3D = Record<'x'|'y'|'z', number>;
    ```
    
2. 매핑된 타입 사용
    
    ```tsx
    type Vec3D = {[k in 'x'|'y'|'z'] : number};
    type ABC = {[k in 'a' | 'b' | 'c'] : k extends 'b' ? string : number};
    ```