# item 16. number 인덱스 시그니처보다 Array, 튜플, ArrayLike 사용하기

자바스크립트에서 객체는 키/값 쌍의 모음이다

키는 대부분 문자열이다

- 객체를 키로 사용하려고 하면 toString 메서드가 호출되어 객체가 문자열로 변환됨
- 숫자는 키로 사용할 수 없다 → 런타임에 문자열로 변경됨

배열은 객체다

- 배열의 인덱스들은 문자열로 변환되어 사용된다.
- Object.keys를 사용해 배열의 키 나열 → 키가 문자열로 출력됨
    
    ```tsx
    x = [1,2,3]
    Object.keys(x) // ['0','1','2']
    ```
    

타입스크립트는 숫자 키를 허용하고, 문자열 키와 다른 것으로 인식

→ 런타임에는 문자열 키로 인식하지만, 타입 체크 시점에 오류를 잡을 수 있다.

인덱스 시그니처가 number로 표현되어 있다면, 입력한 값이 number이어야 한다는 것을 의미하지만, 실제 런타임에서 사용되는 키는 string 이다

숫자를 사용하여 인덱스할 항목을 지정한다면 array 또는 튜플 타입을 대신 사용!

- number를 인덱스 타입으로 사용하면 숫자 속성이 어떤 특별한 의미를 지닌다는 오해를 불러일으킬 수 있다.

어떤 길이를 가지는 배열과 비슷한 형태의 튜플을 사용하고 싶다면 ArrayLike 타입을 사용

```tsx
function checkedAccess<T>(xs:ArrayLike<T> , i : number): T{
	if(i < xs.length) {
		returun xs[i];
	}
	throw new Error(`배열의 끝을 지나서 ${i}를 접근하려고 했습니다.`)
}
```

**배열 순회 시**

1. 인덱스에 신경 쓰지 않는다면 → `for-of`
    
    ```tsx
    for (const x of xs){
    	x; // 타입이 number
    }
    ```
    
2. 인덱스의 타입이 중요하다면 → `forEach`
    
    ```tsx
    xs.forEach((x,i)=>{
    	i;
    	x;
    });
    ```
    
3. 루프 중간에 멈춰야 한다면 → `for(;;)` 루프