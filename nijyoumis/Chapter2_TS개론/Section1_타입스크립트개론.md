# Section 1. 타입스크립트 개론

# 자바스크립트의 한계점과 타입스크립트

타입스크립트는 자바스크립트의 한계를 극복하기 위해 등장

자바스크립트의 한계는 무엇일까?

### 타입 시스템

모든 프로그래밍 언어는 타입 시스템을 가지고 있다

타입 시스템이란? 

1. 값들을 어떤 기준으로 묶어 타입을 규정할 것인지
2. 코드의 타입을 언제 검사할 것인지
3. 어떻게 타입을 검사할 것인지 

등을 규칙을 모아둔 체계

- **정적 타입 시스템** : 코드 실행 이전 모든 변수의 타입을 고정적으로 결정
- **동적 타입 시스템:**  코드 실행 후 유동적으로 변수의 타입을 결정

JS는 우리가 변수의 타입을 직접 정의하지 않는 동적 타입 시스템이다.

JS가 차용하는 **동적 타입 시스템은 타입 오류 시 바로 오류를 나타내지 않는 경우가 있어 위험!**

### 타입스크립트

동적 타입 시스템 + 정적 타입 시스템 처럼 동작한다

<aside>
💡 변수의 타입을 실행 전에 결정하고, 타입 오류를 실행 전에 검사하지만,
 모든 변수에 타입을 일일이 지정할 필요 없음

</aside>

변수에 담기는 **초기값**을 기준으로 자동으로 타입 출원

= **점진적 타입 시스템 (Gradual Type System)** 

# 타입스크립트의 동작 원리

## 어떤 과정을 거쳐 동작할까?

### 1. 대다수 프로그래밍 언어의 컴파일 과정

프로그래밍 언어 → AST(추상 문법 트리) → 바이트 코드

### 2. 타입스크립트의 컴파일 과정

프로그래밍 언어 → AST(추상 문법 트리)→ 타입 검사 → 검사 성공 시 →자바스크립트로 변환

타입과 관련된 코드가 삭제된 자바스크립트 → AST → 바이트 코드로 변환

# Hello TS World!

### 1. node.js 패키지 초기화

`npm init` 명령어로 초기화해서 package.json 파일 생성

### 2. types/node 설치

→ node.js가 제공하는 기본 기능(내장함수, 클래스)에 대한 타입 정보를 가지는 npm 라이브러리

`npm i @types/node`

### 3. typescript 컴파일러 설치

`npm i -g typescript`

### 4. 컴파일 방법

1. tsc 컴파일러로 ts→js로 바꾼 후, node로 js 실행
2. tsx(TypeScript Execute) 이용하기

# 타입스크립트 컴파일러 옵션 설정하기

- 얼마나 엄격한 typechecking을 할 건지, 자바스크립트의 버전은 몇으로 할 건지 등의 옵션을 자유롭게 설정 가능
- TypeScript 컴파일러 옵션은 Node.js 패키지 단위로 설정 가능

## 컴파일러 옵션 자동 생성

tsconfig.json 파일에서 node.js 패키지 단위로 설정

`tsc —init` 명령어 입력

## 컴파일러 옵션 설정하기

### 1. include

: 컴파일할 TS 파일들의 범위와 위치를 알려주는 옵션

`{ “include”: [”src”] }` → src 디렉토리 안에 있는 모든 파일을 컴파일함

### 2. Target

`“compilerOptions” : { “target” : “ESNext” }`

타겟으로 하는 변환될 자바스크립트 코드의 버전을 설정 가능

JS로 변환하는 과정이나 Type 검사 등에 옵션 부여시 compilerOptions라는 항목 안에 작성

### 3. module

: 모듈 시스템 설정 가능

`“compilerOptions” : { “module” : “ESNext” }`

### 4. outDir

: 컴파일된 JS 파일들의 생성 위치 설정 

`“compilerOptions” : { “outDir” : "dist” }`

### 5. strict

: 타입체킹의 strict 모드 설정

ex) strict가 true 일 때 → 매개변수 type 미지정 시 오류 발생

`“compilerOptions” : { “strict” : true/false }`

- 대부분 개발시에는 strict mode를 켜놓고 개발
- JS → TS 마이그레이션 시, 보통 false로 해놓음

### 6. module detection

: 자동으로 모든 ts 파일들을 개별 모듈로 취급해줌.

TS의 모든 파일은 기본적으로 전역 모듈로 취급됨.

타입이 다르더라도 중복된 변수면 오류 발생.

다른 파일이라고 하더라도, 어떤 공통된 공간에 있으면 전역 취급

→ 이를 방지하기 위해, 각 파일에 모듈 시스템 키워드( import, export)를 최소 하나 이상 사용해 독립된 모듈로 취급되도록 해야함.

→ 이를 자동화 하는 옵션이 moduleDetection!

`“compilerOptions” : { "moduleDetection” : "force” }`